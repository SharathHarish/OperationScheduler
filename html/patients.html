<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Patient Management | Admin</title>
  <link rel="stylesheet" href="../css/patients.css" />
</head>

<body>
  <header class="topbar">
    <h1>Artemis Hospitals — Patient Management</h1>

    <div class="top-actions">
      <span id="adminEmail">admin@artemishospitals.com</span>

      <div class="dropdown">
        <button class="dropbtn">Manage ▼</button>
        <div class="dropdown-content">
          <a href="doctor.html">Doctor</a>
          <a href="patients.html">Patient</a>
          <a href="operation.html">Operation</a>
        </div>
      </div>

      <button id="logoutBtn">Logout</button>
    </div>
  </header>

  <main class="container">

    <!-- Add Patient -->
    <section class="card">
      <h2>Add / Edit Patient</h2>

      <form id="patientForm" class="form-group" autocomplete="off" novalidate>

        <!-- Row 1 -->
        <div class="field">
          <label for="patientId">Patient ID *</label>
          <input type="text" id="patientId" name="patientId" placeholder="Patient ID" required />
          <div class="error" data-for="patientId"></div>
        </div>

        <div class="field">
          <label for="patientName">Patient Name *</label>
          <input type="text" id="patientName" name="patientName" placeholder="Patient Name" required />
          <div class="error" data-for="patientName"></div>
        </div>

        <!-- Row 2 -->
        <div class="field">
          <label for="patientAge">Age *</label>
          <input type="number" id="patientAge" name="patientAge" placeholder="Age" min="0" required />
          <div class="error" data-for="patientAge"></div>
        </div>

        <div class="field">
          <label for="patientGender">Gender *</label>
          <select id="patientGender" name="patientGender" required>
            <option value="">Select Gender</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
          <div class="error" data-for="patientGender"></div>
        </div>

        <!-- Row 3 -->
        <div class="field">
          <label for="patientCondition">Disease / Condition *</label>
          <input type="text" id="patientCondition" name="patientCondition" placeholder="Disease / Condition" required />
          <div class="error" data-for="patientCondition"></div>
        </div>

        <div class="field">
          <label for="patientStatus">Status *</label>
          <select id="patientStatus" name="patientStatus" required>
            <option value="">Select Status</option>
            <option>Immediate</option>
            <option>Urgent</option>
            <option>Expedited</option>
          </select>
          <div class="error" data-for="patientStatus"></div>
        </div>

        <!-- Row 4: referredBy + email -->
        <div class="field">
          <label for="referredBy">Referred By *</label>
          <select id="referredBy" name="referredBy" required>
            <option value="">Select Doctor</option>
          </select>
          <div class="error" data-for="referredBy"></div>
        </div>

        <div class="field">
          <label for="patientEmail">Email</label>
          <input type="email" id="patientEmail" name="patientEmail" placeholder="Email (optional)" />
          <div class="error" data-for="patientEmail"></div>
        </div>

        <!-- Row 5: phone + doc -->
        <div class="field">
          <label for="patientPhone">Phone Number *</label>
          <input type="tel" id="patientPhone" name="patientPhone" placeholder="10 digit phone number" maxlength="10" required />
          <div class="error" data-for="patientPhone"></div>
        </div>

        <div class="field">
          <label for="patientDoc">Documents (PDF / JPG)</label>
          <input type="file" id="patientDoc" name="patientDoc" accept=".pdf,.jpg,.jpeg" />
          <div class="error" data-for="patientDoc"></div>
        </div>

        <div class="form-actions">
          <button type="submit" id="addPatientBtn">Add Patient</button>
          <button type="button" id="resetBtn" class="secondary">Reset</button>
        </div>

      </form>
    </section>

    <!-- Patients List -->
    <section class="card">
      <h2>Patients List</h2>

      <div class="filter-row">
        <select id="filterStatus">
          <option value="">Filter by Status</option>
          <option>Immediate</option>
          <option>Urgent</option>
          <option>Expedited</option>
        </select>

        <input type="text" id="searchPatientName" placeholder="Search by name..." />
        <button id="searchPatientBtn">Search</button>
      </div>

      <ul id="patientsList" class="list"></ul>
    </section>

  </main>

  <!-- keep your firebase-init.js path (must export db) -->
  <script type="module" src="../js/firebase-init.js"></script>
  <script type="module" src="../js/patients.js"></script>

</body>
</html>
